<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Meta tags for social media banners, these should be filled in appropriatly as they are your "business card" -->
  <!-- Replace the content tag with appropriate information -->
  <meta name="description" content="DESCRIPTION META TAG">
  <meta property="og:title" content="SOCIAL MEDIA TITLE TAG"/>
  <meta property="og:description" content="SOCIAL MEDIA DESCRIPTION TAG TAG"/>
  <meta property="og:url" content="URL OF THE WEBSITE"/>
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X630-->
  <meta property="og:image" content="static/image/your_banner_image.png" />
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>


  <meta name="twitter:title" content="TWITTER BANNER TITLE META TAG">
  <meta name="twitter:description" content="TWITTER BANNER DESCRIPTION META TAG">
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X600-->
  <meta name="twitter:image" content="static/images/your_twitter_banner_image.png">
  <meta name="twitter:card" content="summary_large_image">
  <!-- Keywords for your paper to be indexed by-->
  <meta name="keywords" content="KEYWORDS SHOULD BE PLACED HERE">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title>Towards VM Rescheduling Optimization Through Deep Reinforcement Learning</title>
  <link rel="icon" type="image/x-icon" href="static/images/favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
  rel="stylesheet">

  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="static/css/index.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script src="static/js/bulma-carousel.min.js"></script>
  <script src="static/js/bulma-slider.min.js"></script>
  <script src="static/js/index.js"></script>
</head>
<body>

  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">Towards VM Rescheduling Optimization Through Deep Reinforcement Learning</h1>
            <div class="is-size-5 publication-authors">
              <!-- Paper authors -->
              <span class="author-block">
                <a href="https://dingxianzhong.github.io/" target="_blank">Xianzhong Ding</a><sup>*1</sup>,</span>
              <span class="author-block">
                <a href="https://berkeley.edu" target="_blank">Yunkai Zhang</a><sup>*2</sup>,</span>
              <span class="author-block">
                <a href="https://www.bytedance.com/" target="_blank">Binbin Chen</a><sup>3</sup>,</span>
              <span class="author-block">
                <a href="https://berkeley.edu" target="_blank">Donghao Ying</a><sup>2</sup>,</span>
              <span class="author-block">
                <a href="https://www.bytedance.com/" target="_blank">Tieying Zhang</a><sup>3</sup>,</span>
              <span class="author-block">
                <a href="https://www.bytedance.com/" target="_blank">Jianjun Chen</a><sup>3</sup>,</span>
              <span class="author-block">
                <a href="https://www.bytedance.com/" target="_blank">Lei Zhang</a><sup>3</sup>,</span>
              <span class="author-block">
                <a href="https://ucmerced.edu" target="_blank">Alberto Cerpa</a><sup>1</sup>,</span>
              <span class="author-block">
                <a href="https://ucmerced.edu" target="_blank">Wan Du</a><sup>1</sup>
              </span>
            </div>

            <div class="is-size-5 publication-authors">
              <span class="author-block">1: University of California, Merced; 2: University of California, Berkeley; 3: ByteDance<br>EuroSys 2025</span>
              <span class="eql-cntrb"><small><br><sup>*</sup>Both authors contributed equally to this research.</small></span>
            </div>

            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- Arxiv PDF link -->
                <span class="link-block">
                  <a href="https://arxiv.org/pdf/<ARXIV PAPER ID>.pdf" target="_blank"
                  class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>

              <!-- Supplementary PDF link -->
              <span class="link-block">
                <a href="static/pdfs/supplementary_material.pdf" target="_blank"
                class="external-link button is-normal is-rounded is-dark">
                <span class="icon">
                  <i class="fas fa-file-pdf"></i>
                </span>
                <span>Supplementary</span>
              </a>
            </span>

            <!-- Github link -->
            <span class="link-block">
              <a href="https://github.com/YOUR_REPO_HERE" target="_blank"
              class="external-link button is-normal is-rounded is-dark">
              <span class="icon">
                <i class="fab fa-github"></i>
              </span>
              <span>Code</span>
            </a>
          </span>

          <!-- ArXiv abstract Link -->
          <span class="link-block">
            <a href="https://arxiv.org/abs/<ARXIV PAPER ID>" target="_blank"
            class="external-link button is-normal is-rounded is-dark">
            <span class="icon">
              <i class="ai ai-arxiv"></i>
            </span>
            <span>arXiv</span>
          </a>
        </span>
      </div>
    </div>
  </div>
</div>
</div>
</div>
</section>



<!-- Teaser video-->
<!-- Two-stage Model Images -->
<section class="section hero">
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column is-half has-text-centered">
        <figure>
          <img src="static/images/two-stage-model-vm.png" alt="Two-Stage Model VM">
        </figure>
      </div>
      <div class="column is-half has-text-centered">
        <figure>
          <img src="static/images/two-stage-model-pm.png" alt="Two-Stage Model PM">
        </figure>
      </div>
    </div>
    <div class="columns is-centered">
      <div class="column is-full has-text-centered">
        <figcaption style="text-align: center; margin-top: 15px;">
          The first stage of VMR<sup>2</sup>L processes all VMs and PMs via shared embedding networks, based on which the VM actor selects a VM to be rescheduled. Once a candidate VM is selected by the VM actor, VMR<sup>2</sup>L masks out all the PMs that cannot host the candidate VM. The PM actor only accesses the selected VM, and then selects a destination PM from the unmasked PMs.
        </figcaption>
      </div>
    </div>
  </div>
</section>



<!-- Paper abstract -->
<section class="section hero is-light">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Modern industry-scale data centers need to manage a large number of virtual machines (VMs). Due to the continual creation and release of VMs, many small resource fragments are scattered across physical machines (PMs). To handle these fragments, data centers periodically reschedule some VMs to alternative PMs, a practice commonly referred to as VM rescheduling. Despite the increasing importance of VM rescheduling as data centers grow in size, the problem remains understudied. We first show that, unlike most combinatorial optimization tasks, the inference time of VM rescheduling algorithms significantly influences their performance, due to dynamic VM state changes during this period. This causes existing methods to scale poorly. Therefore, we develop a reinforcement learning system for VM rescheduling, VMR<sup>2</sup>L, which incorporates a set of customized techniques, such as a two-stage framework that accommodates diverse constraints and workload conditions, a feature extraction module that captures relational information specific to rescheduling, as well as a risk-seeking evaluation enabling users to optimize the trade-off between latency and accuracy. We conduct extensive experiments with data from an industry-scale data center. Our results show that VMR<sup>2</sup>L can achieve a performance comparable to the optimal solution but with a running time of seconds.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="section">
  <div class="container">
    <!-- Centered Title -->
    <h2 class="title has-text-centered">Background</h2>

    <!-- Left-aligned Bullets -->
    <ul style="text-align: left;">
      <!-- Bullet 1: What is VM Scheduling and Rescheduling? -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">1) What is VM Scheduling and Rescheduling?</h3>
        <div class="columns is-centered">
          <!-- Image 1 -->
          <div class="column has-text-centered">
            <figure>
              <img src="static/images/initial-schedule.png" alt="VM Scheduling" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">
                VM scheduling decides which PM to host the incoming VM when a new request arrives.
              </figcaption>
            </figure>
          </div>
          <!-- Image 2 -->
          <div class="column has-text-centered">
            <figure>
              <img src="static/images/reschedule.png" alt="VM Rescheduling" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">
                VM rescheduling reassigns an already deployed VM to a new destination PM.
              </figcaption>
            </figure>
          </div>
          <!-- Image 3 -->
          <div class="column has-text-centered">
            <figure>
              <img src="static/images/throughput.png" alt="Throughput" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">
                The above figure shows the maximum number of VMs changes per minute averaged over a 30-day period of a cluster from our in-house data center.
              </figcaption>
            </figure>
          </div>
        </div>
      </li>

      <!-- Bullet 2: VM Rescheduling Details -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">2) VM Rescheduling Details</h3>
        <ul style="text-align: left; list-style-position: inside;">
          <li>Each cluster has no more than a few hundreds PMs, enabling tailored configuration and fault isolation.</li>
          <li>Rescheduling leverages hot migration, requiring low overhead.</li>
          <li>It is primarily applied to clusters hosting EC2 instances running for hours or days.</li>
          <li>A migration number limit (MNL) ensures stability, typically at 2-3% of VMs.</li>
        </ul>
      </li>

      <!-- Bullet 3: Motivation - VM Rescheduling Latency Requirements -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">3) Motivation: VM Rescheduling Latency Requirements</h3>
        <div class="columns is-centered">
          <div class="column is-half has-text-centered">
            <figure>
              <img src="static/images/vm_generation_effect_new.png" alt="Latency Impact" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">
                MIP solutions take an hour, rendering them invalid due to dynamic changes. A latency of 5 seconds ensures most rescheduling actions remain optimal.
              </figcaption>
            </figure>
          </div>
        </div>
      </li>

      <!-- Bullet 4: Rescheduling Data Characteristics -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">4) Rescheduling Data Characteristics</h3>
        <div class="columns is-centered">
          <div class="column is-one-third has-text-centered">
            <figure>
              <img src="static/images/vm-types.png" alt="VM Types" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">VM Types</figcaption>
            </figure>
          </div>
          <div class="column is-one-third has-text-centered">
            <figure>
              <img src="static/images/fragment-size.png" alt="Fragment Sizes" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">Fragment Sizes</figcaption>
            </figure>
          </div>
          <div class="column is-one-third has-text-centered">
            <figure>
              <img src="static/images/utilization.png" alt="CPU Utilization" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">CPU Utilization</figcaption>
            </figure>
          </div>
        </div>
        <p class="has-text-left">
          Key statistics: 81.44% of PMs have CPU utilization over 80%, and 88.27% of VM requests are for 16 or fewer cores.
        </p>
      </li>

      <!-- Bullet 5: Why Reinforcement Learning -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">5) Why Reinforcement Learning (RL)?</h3>
        <p class="has-text-left">
          RL extracts features automatically, generalizes to new scenarios, and interacts cheaply with the environment. This avoids the limitations of supervised and heuristic models.
        </p>
      </li>
    </ul>
  </div>
</section>




<section class="section">
  <div class="container">
    <!-- Centered Title -->
    <h2 class="title has-text-centered">Model Details</h2>

    <!-- Images for Two-Stage Framework -->
    <div class="columns is-centered">
      <div class="column has-text-centered">
        <figure>
          <img src="static/images/two-stage-model-vm.png" alt="Two-Stage Agent (VM)" style="width: 100%; height: auto;">
        </figure>
      </div>
      <div class="column has-text-centered">
        <figure>
          <img src="static/images/two-stage-model-pm.png" alt="Two-Stage Agent (PM)" style="width: 100%; height: auto;">
        </figure>
      </div>
    </div>

    <!-- Two-Stage Framework -->
    <h3 class="subtitle">1) Two-Stage Framework</h3>
    <ul style="text-align: left; list-style-position: inside;">
      <li style="margin-bottom: 2rem;">A VM request starts an episode. The action at each step in the episode is to migrate one VM. For example, if the model is allowed to reschedule 50 VMs, we let the model take 50 actions.</li>
      <li style="margin-bottom: 2rem;">At each time step, the action is a two-tuple -- the VM to be rescheduled and its new destination PM. We design a two-stage agent, where the model chooses the VM in the first stage and then selects a destination PM in the second stage.</li>
      <li style="margin-bottom: 2rem;">
        <b>First stage:</b> a VM actor embeds all VMs and PMs via two shared embedding networks, based on which it selects a candidate VM.
      </li>
      <li style="margin-bottom: 2rem;">
        <b>Second stage:</b> once a candidate VM is selected, VMR<sup>2</sup>L can efficiently mask out all the PMs that cannot host the candidate VM. The PM actor only has access to the embedding of the selected VM, instead of all VMs. PM actor then selects an appropriate destination PM from the remaining PMs.
      </li>
      <li style="margin-bottom: 2rem;">
        <b>Benefit:</b> once a VM is selected, we can mask out all the illegal PMs to satisfy various service constraints (e.g., resource availability, affinity level).
      </li>
    </ul>

    <!-- Sparse Attention Image -->
    <div class="columns is-centered">
      <div class="column is-full has-text-centered">
        <figure>
          <img src="static/images/sparse-attn.png" alt="Sparse Attention" style="width: 100%; height: auto;">
        </figure>
      </div>
    </div>

    <!-- Feature Extraction with Sparse-Attention -->
    <h3 class="subtitle">2) Feature Extraction with Sparse-Attention</h3>
    <ul style="text-align: left; list-style-position: inside;">
      <li style="margin-bottom: 2rem;">We use an attention-based model as the backbone as its number of learnable parameters is independent of the number of VMs and PMs.</li>
      <li style="margin-bottom: 2rem;">We design a tree-level <b>sparse-attention</b> module to allow each VM/PM to exchange information with other machines under the same PM. This affiliation information is critical for VM rescheduling but is absent in vanilla attention.</li>
    </ul>

    <!-- Risk-Seeking Evaluation -->
    <h3 class="subtitle">3) Risk-Seeking Evaluation</h3>
    <ul style="text-align: left; list-style-position: inside;">
      <li style="margin-bottom: 2rem;">Since we can exactly simulate the effect of VMR actions, we can sample multiple trajectories during inference time, and only deploy the one with the highest reward.</li>
      <li style="margin-bottom: 2rem;">Actions with low probabilities are likely to be suboptimal, and we should avoid them during inference!</li>
    </ul>
  </div>
</section>






<section class="section">
  <div class="container">
    <!-- Centered Title -->
    <h2 class="title has-text-centered">Experiments</h2>

    <!-- Experiment 1: Latency Constraint -->
    <ul style="text-align: left;">
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">1) Latency Constraint</h3>
        <div class="columns is-centered">
          <div class="column is-half has-text-centered">
            <figure>
              <img src="readme-figures/fr_migration.png" alt="FR on Medium" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">FR on Medium</figcaption>
            </figure>
          </div>
          <div class="column is-half has-text-centered">
            <figure>
              <img src="readme-figures/fr_migration_time.png" alt="Latency on Medium" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">Latency on Medium</figcaption>
            </figure>
          </div>
        </div>
        <p class="has-text-left">
          VMR2L beats all baselines under the five-second latency constraint.
        </p>
      </li>

      <!-- Experiment 2: Ablation Studies -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">2) Ablation Studies</h3>
        <div class="columns is-centered">
          <div class="column is-half has-text-centered">
            <figure>
              <img src="readme-figures/attention-ablation.png" alt="Sparse Attention Ablation" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">Sparse Attention (Left)</figcaption>
            </figure>
          </div>
          <div class="column is-half has-text-centered">
            <figure>
              <img src="readme-figures/ablation-risk-seeking.png" alt="Risk-Seeking Evaluation" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">Risk-Seeking Evaluation (Right)</figcaption>
            </figure>
          </div>
        </div>
      </li>

      <!-- Experiment 3: Two-Stage Design -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">3) Two-Stage Design</h3>
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <figure>
              <img src="readme-figures/ablation-two-stage.png" alt="Two-Stage Design" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">
                Two-stage design allows VMR2L to handle different constraints.
              </figcaption>
            </figure>
          </div>
        </div>
      </li>

      <!-- Experiment 4: Generalization to Different Objectives -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">4) Generalization to Different Objectives</h3>
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <figure>
              <img src="readme-figures/diff-obj.png" alt="Different Objectives" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">
                VMR2L can generalize to different objectives, such as reaching an FR level with the minimal number of VM migrations.
              </figcaption>
            </figure>
          </div>
        </div>
      </li>

      <!-- Experiment 5: Abnormal Workload Levels -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">5) Abnormal Workload Levels</h3>
        <div class="columns is-centered">
          <div class="column is-half has-text-centered">
            <figure>
              <img src="readme-figures/cpu-usage3.png" alt="CPU Usage" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">CPU Usage</figcaption>
            </figure>
          </div>
          <div class="column is-half has-text-centered">
            <figure>
              <img src="readme-figures/workload-table.png" alt="Different Workloads" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">Different Workloads</figcaption>
            </figure>
          </div>
        </div>
        <p class="has-text-left">
          VMR2L can generalize to abnormal workload levels. Even when some workload levels are not present during training, as long as we have trained on a higher workload (or preferably a lower one too), we can cover those gaps!
        </p>
      </li>

      <!-- Experiment 6: Policy Visualization -->
      <li style="margin-bottom: 2rem;">
        <h3 class="subtitle">6) Policy Visualization</h3>
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <figure>
              <img src="readme-figures/visual-traj.gif" alt="Policy Visualization" style="width: 100%; height: auto;">
              <figcaption style="text-align: left;">
                A visualization of the learned rescheduling policy. It can be generated using <code>eval_plot_steps.py</code>.
              </figcaption>
            </figure>
          </div>
        </div>
      </li>
    </ul>
  </div>
</section>





<!-- Youtube video -->
<section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <!-- Paper video. -->
      <h2 class="title is-3">Video Presentation</h2>
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          
          <div class="publication-video">
            <!-- Youtube embed code here -->
            <iframe src="https://www.youtube.com/embed/JkaxUblCGz0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End youtube video -->


<!-- Video carousel -->
<section class="hero is-small">
  <div class="hero-body">
    <div class="container">
      <h2 class="title is-3">Another Carousel</h2>
      <div id="results-carousel" class="carousel results-carousel">
        <div class="item item-video1">
          <video poster="" id="video1" autoplay controls muted loop height="100%">
            <!-- Your video file here -->
            <source src="static/videos/carousel1.mp4"
            type="video/mp4">
          </video>
        </div>
        <div class="item item-video2">
          <video poster="" id="video2" autoplay controls muted loop height="100%">
            <!-- Your video file here -->
            <source src="static/videos/carousel2.mp4"
            type="video/mp4">
          </video>
        </div>
        <div class="item item-video3">
          <video poster="" id="video3" autoplay controls muted loop height="100%">\
            <!-- Your video file here -->
            <source src="static/videos/carousel3.mp4"
            type="video/mp4">
          </video>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End video carousel -->






<!-- Paper poster -->
<section class="hero is-small is-light">
  <div class="hero-body">
    <div class="container">
      <h2 class="title">Poster</h2>

      <iframe  src="static/pdfs/sample.pdf" width="100%" height="550">
          </iframe>
        
      </div>
    </div>
  </section>
<!--End paper poster -->


<!--BibTex citation -->
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <pre><code>BibTex Code Here</code></pre>
    </div>
</section>
<!--End BibTex citation -->


  <footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">

          <p>
            This page was built using the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a> which was adopted from the <a href="https://nerfies.github.io" target="_blank">Nerfies</a> project page.
            You are free to borrow the source code of this website, we just ask that you link back to this page in the footer. <br> This website is licensed under a <a rel="license"  href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>

        </div>
      </div>
    </div>
  </div>
</footer>

<!-- Statcounter tracking code -->
  
<!-- You can add a tracker to track page visits by creating an account at statcounter.com -->

    <!-- End of Statcounter Code -->

  </body>
  </html>